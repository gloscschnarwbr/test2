<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Free Slot Machine</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: white;
        text-align: center;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
    }
    #points {
        font-size: 24px;
        font-weight: bold;
        margin: 10px 0;
    }
    #username {
        position: fixed;
        bottom: 10px;
        left: 10px;
        font-size: 18px;
        font-weight: bold;
    }
    .slot-machine {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 50px;
    }
    .reel {
        width: 80px;
        height: 80px;
        border: 2px solid black;
        margin: 0 5px;
        font-size: 50px;
        line-height: 80px;
        text-align: center;
        overflow: hidden;
        position: relative;
    }
    .symbol {
        position: absolute;
        width: 100%;
        height: 80px;
        text-align: center;
        font-size: 50px;
    }
    button {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 18px;
        cursor: pointer;
    }
</style>
</head>
<body>

<div id="points">Points: 1000</div>

<div class="slot-machine" id="slot-machine">
    <div class="reel" id="reel1"><div class="symbol">üçí</div></div>
    <div class="reel" id="reel2"><div class="symbol">üçã</div></div>
    <div class="reel" id="reel3"><div class="symbol">üçá</div></div>
</div>

<button onclick="spin()">Spin</button>

<div id="username">Player1</div>

<script>
    const symbols = ["üçí", "üçã", "üçá", "üîî", "‚≠ê", "üçÄ"];
    let points = 1000;

    function spin() {
        document.querySelector("button").disabled = true;
        let results = [];
        let delay = 0;

        for (let i = 0; i < 3; i++) {
            setTimeout(() => {
                spinReel(i, () => {
                    results[i] = getRandomSymbol();
                    document.getElementById(`reel${i+1}`).innerHTML = `<div class="symbol">${results[i]}</div>`;
                    if (i === 2) {
                        checkWin(results);
                        document.querySelector("button").disabled = false;
                    }
                });
            }, delay);
            delay += 800; // staggered stop
        }
    }

    function spinReel(reelIndex, callback) {
        let reel = document.getElementById(`reel${reelIndex+1}`);
        let pos = 0;
        let count = 0;
        let spinInterval = setInterval(() => {
            reel.innerHTML = `<div class="symbol" style="top:${pos}px">${symbols[Math.floor(Math.random() * symbols.length)]}</div>`;
            pos += 20;
            if (pos >= 80) pos = 0;
            count++;
            if (count > 15) { // spins before stopping
                clearInterval(spinInterval);
                callback();
            }
        }, 50);
    }

    function getRandomSymbol() {
        return symbols[Math.floor(Math.random() * symbols.length)];
    }

    function checkWin(results) {
        if (results[0] === results[1] && results[1] === results[2]) {
            points += 500;
        } else if (results[0] === results[1] || results[1] === results[2] || results[0] === results[2]) {
            points += 100;
        } else {
            points -= 50;
        }
        document.getElementById("points").textContent = `Points: ${points}`;
    }
</script>

</body>
</html>
